<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ProfilePage.vue</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ProfilePage.vue</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>npm&lt;template>
    &lt;div id="profilePage">
        &lt;div id="profile">{{ username }}&lt;/div>
        &lt;div id="scores">
            &lt;b-card title="Score Board" no-body>
                &lt;b-card-header header-tag="nav">
                    &lt;b-nav card-header tabs>
                        &lt;b-nav-item v-bind:active="board === 'react'" v-on:click="board = 'react'">Reaction Game&lt;/b-nav-item>
                        &lt;b-nav-item v-bind:active="board === 'speed'" v-on:click="board = 'speed'">Speed Game&lt;/b-nav-item>
                    &lt;/b-nav>
                &lt;/b-card-header>

                &lt;b-card-body class="text-center">
                    &lt;b-table v-if="board === 'speed'" striped hover :items="speedScores" :fields="speedFields">&lt;/b-table>
                    &lt;b-table v-if="board === 'react'" striped hover :items="reactionScores" :fields="reactionFields">&lt;/b-table>
                &lt;/b-card-body>
            &lt;/b-card>

        &lt;/div>
    &lt;/div>
&lt;/template>

&lt;script>
    /**
     * @vue-data {String} username - Username got from database
     * @vue-data {Array} reactionScores - A specific accounts score array for the reaction game.
     * @vue-data {Array} speedScores - A specific accounts score array for the speed click game.
     */
    export default {
        name: 'ProfilePage',
        data() {
            return {
                username: "",
                speedScores: [],
                reactionScores: [],
                speedFields: ['time', 'clicks', 'clicksPerSecond', 'date'],
                reactionFields: ['score', 'date'],
                board: 'react'
            }
        },
        created() {
            //calls info from the database
            this.username = "guest";
            this.getScores('speedclick', this.getUserID());
            this.getScores('reaction', this.getUserID())
        },
        methods: {
          /**
           * Fetches the scores of the given user in the given game and puts them into the score board
           * @param game the game scores that are fetched
           * @param userID the ID of the user that should be fetched
           * @returns {Promise&lt;void>}
           */
          async getScores(game, userID) {
            const t = this;
            try {
              const response = await fetch('http://localhost:8081/api/game_' + game + '/scores/user?userID=' + userID);
              await response.json().then( function(result) {

                result.forEach( function(item) {

                  if (game === 'speedclick') {
                    item.clicksPerSecond = Math.round(item.clicks / item.time * 100) / 100;
                  }

                  let date = new Date(item.datetime);
                  item.date = date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate();
                });

                if (game === 'speedclick') {
                  t.speedScores = result;
                }
                else if (game === 'reaction') {
                  t.reactionScores = result;
                }
                t.username = result[0].username;
              });
            } catch (e) {
              throw e;
            }
          },
          /**
           * returns the ID of the logged in user [PLACEHOLDER]
           * @returns {number}
           */
          getUserID() {
            return 1;
          }
        }
    };


&lt;/script>

&lt;style scoped>
    #profile {
        font-size: 20px;
        font-weight: 600;
        padding: 1rem;
    }
&lt;/style></code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-ProfilePage.html">ProfilePage</a></li><li><a href="module-ReactionGame.html">ReactionGame</a></li><li><a href="module-SpeedClickGame.html">SpeedClickGame</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Dec 12 2019 17:52:05 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
